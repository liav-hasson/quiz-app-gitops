{{- if .Values.jenkins.enabled }}
apiVersion: v1
kind: Namespace
metadata:
  name: {{ .Values.jenkins.namespace }}
  labels:
    name: {{ .Values.jenkins.namespace }}
    app.kubernetes.io/managed-by: argocd
    # Allow privileged containers for builds
    # BuildKit requires privileged mode for container builds
    pod-security.kubernetes.io/enforce: privileged
    pod-security.kubernetes.io/enforce-version: latest
    pod-security.kubernetes.io/warn: privileged
    pod-security.kubernetes.io/audit: privileged
{{- end }}
